Gnat VM
=======

Registers
=========

P - Program counter. Value is of type Value.Code.
E - Environment. Value is of type Value.Hash.


Primitive instructions
======================

B <p> <e> - Change P and E simultaneously. Use e.g. for calling subroutines. 'p' is a Value.Code and 'e' is a Value.Hash. Special case: Use a Value.Ext for 'p' to call Java code.
IF <c> <t> <e> - If statement. Evaluate 'c' and set P to 't' or to 'e'.
SET <h> <k> <v> - Store 'v' in hash 'h' at key 'k'.


Operands
========

P - Current value of P.
E - Current value of E.
Immediate string.
Immediate integer.
NEW - Fresh empty hash.
Immediate code value.
GET <h> <k> - Get the value in a hash 'h' at key 'k'.
