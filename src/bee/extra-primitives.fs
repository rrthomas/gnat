\ (c) Reuben Thomas 2020
\
\ The package is distributed under the GNU GPL version 3, or, at your
\ option, any later version.
\
\ THIS PROGRAM IS PROVIDED AS IS, WITH NO WARRANTY. USE IS AT THE USERâ€™S
\ RISK.

CR .( Extra primitives )

ALSO ASSEMBLER


\ Stack primitives

CODE DUP
   0 BPUSH BDUP
   BRET
END-CODE
2 INLINE

CODE SWAP
   1 BPUSH BROLL
   BRET
END-CODE
2 INLINE

CODE OVER
   1 BPUSH BDUP
   BRET
END-CODE
2 INLINE

CODE ROT
   2 BPUSH BROLL
   BRET
END-CODE
2 INLINE

CODE -ROT
   2 BPUSH BROLL
   2 BPUSH BROLL
   BRET
END-CODE
4 INLINE


\ Arithmetic and logical primitives

CODE -
   BNEGATE BADD
   BRET
END-CODE
2 INLINE

CODE 1+
   BNOT BNEGATE
   BRET
END-CODE
2 INLINE

CODE 1-
   BNEGATE BNOT
   BRET
END-CODE
2 INLINE

CODE ARSHIFT
   BARSHIFT
   BRET
END-CODE
1 INLINE


PREVIOUS
